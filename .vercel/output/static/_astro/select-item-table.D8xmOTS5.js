import{e as z,u as B,j as t,d as _,P as T,f as j,g as K,t as O,a as q,h as L,I as U,T as X,i as $,k as P,l as G,m as w,n as J,o as I,p as Q,q as W,r as Y,s as Z,B as ee}from"./table.DIsnQHwN.js";import{r as a}from"./index.Dy7WD_uu.js";import{C as te,A as ne}from"./check.CzOWfGvD.js";function re(e){const n=a.useRef({value:e,previous:e});return a.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var y="Checkbox",[ae,he]=_(y),[se,oe]=ae(y),F=a.forwardRef((e,n)=>{const{__scopeCheckbox:r,name:u,checked:h,defaultChecked:c,required:p,disabled:d,value:i="on",onCheckedChange:o,form:s,...C}=e,[g,b]=a.useState(null),k=z(n,l=>b(l)),v=a.useRef(!1),R=g?s||!!g.closest("form"):!0,[f=!1,S]=B({prop:h,defaultProp:c,onChange:o}),V=a.useRef(f);return a.useEffect(()=>{const l=g?.form;if(l){const x=()=>S(V.current);return l.addEventListener("reset",x),()=>l.removeEventListener("reset",x)}},[g,S]),t.jsxs(se,{scope:r,state:f,disabled:d,children:[t.jsx(T.button,{type:"button",role:"checkbox","aria-checked":m(f)?"mixed":f,"aria-required":p,"data-state":H(f),"data-disabled":d?"":void 0,disabled:d,value:i,...C,ref:k,onKeyDown:j(e.onKeyDown,l=>{l.key==="Enter"&&l.preventDefault()}),onClick:j(e.onClick,l=>{S(x=>m(x)?!0:!x),R&&(v.current=l.isPropagationStopped(),v.current||l.stopPropagation())})}),R&&t.jsx(ce,{control:g,bubbles:!v.current,name:u,value:i,checked:f,required:p,disabled:d,form:s,style:{transform:"translateX(-100%)"},defaultChecked:m(c)?!1:c})]})});F.displayName=y;var D="CheckboxIndicator",A=a.forwardRef((e,n)=>{const{__scopeCheckbox:r,forceMount:u,...h}=e,c=oe(D,r);return t.jsx(K,{present:u||m(c.state)||c.state===!0,children:t.jsx(T.span,{"data-state":H(c.state),"data-disabled":c.disabled?"":void 0,...h,ref:n,style:{pointerEvents:"none",...e.style}})})});A.displayName=D;var ce=e=>{const{control:n,checked:r,bubbles:u=!0,defaultChecked:h,...c}=e,p=a.useRef(null),d=re(r),i=O(n);a.useEffect(()=>{const s=p.current,C=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(C,"checked").set;if(d!==r&&b){const k=new Event("click",{bubbles:u});s.indeterminate=m(r),b.call(s,m(r)?!1:r),s.dispatchEvent(k)}},[d,r,u]);const o=a.useRef(m(r)?!1:r);return t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:h??o.current,...c,tabIndex:-1,ref:p,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function m(e){return e==="indeterminate"}function H(e){return m(e)?"indeterminate":e?"checked":"unchecked"}var ie=F,le=A;function N({className:e,...n}){return t.jsx(ie,{"data-slot":"checkbox",className:q("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:t.jsx(le,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:t.jsx(te,{className:"size-3.5"})})})}const E=[{id:1,name:"Pen",price:20},{id:2,name:"Pencil",price:10},{id:1,name:"Pen",price:20},{id:2,name:"Pencil",price:10},{id:1,name:"Pen",price:20},{id:2,name:"Pencil",price:10},{id:1,name:"Pen",price:20},{id:2,name:"Pencil",price:10},{id:2,name:"Pencil",price:10},{id:1,name:"Pen",price:20},{id:2,name:"Pencil",price:10},{id:2,name:"Pencil",price:10},{id:1,name:"Pen",price:20},{id:2,name:"Pencil",price:10}],M=[{id:"select",header:({table:e})=>t.jsx(N,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:n=>e.toggleAllPageRowsSelected(!!n),"aria-label":"Select all"}),cell:({row:e})=>t.jsx(N,{checked:e.getIsSelected(),onCheckedChange:n=>e.toggleSelected(!!n),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:({column:e})=>t.jsxs(ee,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Product",t.jsx(ne,{})]}),cell:({row:e})=>t.jsx("div",{children:e.getValue("name")})},{accessorKey:"price",header:"Price",cell:({row:e})=>{const n=parseFloat(e.getValue("price")),r=new Intl.NumberFormat("en-US",{style:"currency",currency:"THB"}).format(n);return t.jsx("div",{children:r})}}];function pe(){const[e,n]=a.useState([]),[r,u]=a.useState([]),[h,c]=a.useState({}),[p,d]=a.useState({}),i=L({data:E,columns:M,onSortingChange:n,onColumnFiltersChange:u,getCoreRowModel:Z(),getPaginationRowModel:Y(),getSortedRowModel:W(),getFilteredRowModel:Q(),onColumnVisibilityChange:c,onRowSelectionChange:d,state:{sorting:e,columnFilters:r,columnVisibility:h,rowSelection:p}});return a.useEffect(()=>{i.setPageSize(E.length)},[i]),t.jsxs("div",{className:"flex flex-col w-full h-full",children:[t.jsx("h1",{style:{textAlign:"start",fontFamily:"Righteous",fontSize:"36px"},children:"Item"}),t.jsx("div",{className:"flex items-center pb-2 shrink-0",children:t.jsx(U,{placeholder:"Search product...",value:i.getColumn("name")?.getFilterValue()??"",onChange:o=>i.getColumn("name")?.setFilterValue(o.target.value),className:"max-w-sm border-[#3C3C3C] rounded-[6px] py-[20px]"})}),t.jsxs(X,{children:[t.jsx($,{className:"sticky top-0 bg-[#3C3C3C] z-10",children:i.getHeaderGroups().map(o=>t.jsx(P,{className:"hover:bg-transparent border-none",children:o.headers.map(s=>t.jsx(G,{className:"text-white",children:s.isPlaceholder?null:w(s.column.columnDef.header,s.getContext())},s.id))},o.id))}),t.jsx(J,{children:i.getRowModel().rows?.length?i.getRowModel().rows.map(o=>t.jsx(P,{className:"border-[#3C3C3C] hover:bg-neutral-600 data-[state=selected]:bg-neutral-600","data-state":o.getIsSelected()&&"selected",onClick:()=>o.toggleSelected(!o.getIsSelected()),children:o.getVisibleCells().map(s=>t.jsx(I,{children:w(s.column.columnDef.cell,s.getContext())},s.id))},o.id)):t.jsx(P,{children:t.jsx(I,{colSpan:M.length,className:"h-24 text-center ",children:"No results."})})})]})]})}export{pe as default};
